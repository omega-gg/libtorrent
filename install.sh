#!/bin/sh
set -e

#--------------------------------------------------------------------------------------------------
# Settings
#--------------------------------------------------------------------------------------------------

external="../3rdparty"

#--------------------------------------------------------------------------------------------------

MinGW_version="7.3.0"

libtorrent_version="1.2.2"

Boost_version="1.71.0"

#--------------------------------------------------------------------------------------------------
# Configuration
#--------------------------------------------------------------------------------------------------

MinGW="$external/win32/MinGW/$MinGW_version"

#--------------------------------------------------------------------------------------------------
# Download
#--------------------------------------------------------------------------------------------------

curl -L -o ../3rdparty.zip http://omega.gg/get/Sky/3rdparty/win32

curl -L -o boost.zip https://dl.bintray.com/boostorg/release/$Boost_version/source/boost_$Boost_version.zip

curl -L -o libtorrent.tar.gz https://github.com/arvidn/libtorrent/releases/download/libtorrent-$libtorrent_version/libtorrent-rasterbar-$libtorrent_version.tar.gz

#--------------------------------------------------------------------------------------------------
# 3rdparty
#--------------------------------------------------------------------------------------------------

cd ..

unzip 3rdparty.zip

cd -

#--------------------------------------------------------------------------------------------------
# MinGW
#--------------------------------------------------------------------------------------------------

cp -r $MinGW MinGW

#--------------------------------------------------------------------------------------------------
# Boost
#--------------------------------------------------------------------------------------------------

unzip boost.zip

mv boost_$Boost_version boost

#--------------------------------------------------------------------------------------------------
# libtorrent
#--------------------------------------------------------------------------------------------------

tar -xf libtorrent.tar.gz

mv libtorrent-rasterbar-$libtorrent_version libtorrent
